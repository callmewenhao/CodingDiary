## äºŒåˆ†æœç´¢

> äºŒåˆ†å¾ˆç®€å•ï¼Œç»†èŠ‚æ˜¯é­”é¬¼ï¼ğŸ‘

### å¯»æ‰¾ä¸€ä¸ªæ•°ï¼ˆåŸºæœ¬çš„äºŒåˆ†æœç´¢ï¼‰

äºŒåˆ†æŸ¥æ‰¾åœºæ™¯ï¼šåœ¨ä¸€ä¸ªæœ‰åºæ•°ç»„ä¸­å¯»æ‰¾ä¸€ä¸ªæ•°ã€å¯»æ‰¾å·¦ä¾§è¾¹ç•Œã€å¯»æ‰¾å³ä¾§è¾¹ç•Œã€‚

äºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„å¤§ä½“æ€è·¯ï¼š

- æ ¹æ®æœ‰åºæ•°ç»„`nums`çš„å·¦å³è¾¹ç•Œ`[left, right]`è®¡ç®—ä¸­é—´ç‚¹`mid`
- å¦‚æœ`nums[mid]==target`ï¼Œåˆ™è¡¨æ˜`mid`å°±æ˜¯è¦æ‰¾çš„ä½ç½®
- å¦‚æœ`nums[mid]<target`ï¼Œåˆ™è¡¨æ˜è¦æ‰¾çš„ä½ç½®åœ¨`mid`çš„å³ä¾§ï¼Œæ›´æ–°è¾¹ç•Œç»§ç»­äºŒåˆ†æŸ¥æ‰¾
- å¦‚æœ`nums[mid]>target`ï¼Œåˆ™è¡¨æ˜è¦æ‰¾çš„ä½ç½®åœ¨`mid`çš„å·¦ä¾§ï¼Œæ›´æ–°è¾¹ç•Œç»§ç»­äºŒåˆ†æŸ¥æ‰¾
- å¦‚æœå‡ºç°è¾¹ç•Œä¸º`l <= r`æˆ–è€…`l < r`çš„æƒ…å†µï¼ˆåˆ†åˆ«å¯¹åº”ä¸‹é¢çš„ä¸¤ç§å†™æ³•ï¼‰ï¼Œå°±ä»£è¡¨æœªæ‰¾åˆ°`target`

```C++
// é—­åŒºé—´[l, r]ç‰ˆæœ¬ï¼Œå³è¾¹ç•Œéœ€è¦è¢«éå†åˆ°ï¼
class Solution {
private:
    int binarySearch(vector<int>& nums, int target, int l, int r) {
        while(l <= r) {
            int mid  = l + (r - l) / 2;
            if(nums[mid] == target) return mid;
            else if(nums[mid] > target) {
                return binarySearch(nums, target, l, mid - 1);
            } else if(nums[mid] < target){
                return binarySearch(nums, target, mid + 1, r);
            }
        }
        return -1;
    }
public:
    int search(vector<int>& nums, int target) {
        return binarySearch(nums, target, 0, nums.size() - 1);
    }
};
// å¼€åŒºé—´[l, r)ç‰ˆæœ¬ï¼Œå³è¾¹ç•Œä¸ç”¨è¢«éå†åˆ°
class Solution {
private:
    int binarySearch(vector<int>& nums, int target, int l, int r) {
        while(l < r) {
            int mid  = l + (r - l) / 2;
            if(nums[mid] == target) return mid;
            else if(nums[mid] > target) {
                return binarySearch(nums, target, l, mid);
            } else if(nums[mid] < target){
                return binarySearch(nums, target, mid + 1, r);
            }
        }
        return -1;
    }
public:
    int search(vector<int>& nums, int target) {
        return binarySearch(nums, target, 0, nums.size());
    }
};
```

### å¯»æ‰¾å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢

æ‰¾å‡ºä¸‹å›¾ä¸­`target==2`çš„å·¦ä¾§è¾¹ç•Œ

<p align="center"><img src="images/bs1.jpg" height=260> </p>

ç®—æ³•çš„æ•´ä½“æ€è·¯å’Œå¯»æ‰¾ä¸€ä¸ªæ•°æ˜¯ä¸€è‡´çš„ï¼Œç¨å¾®ä¸åŒçš„æ˜¯ï¼šå½“æ‰¾åˆ°è¾¹ç•Œå€¼æ—¶`nums[mid] == target`ï¼Œå› ä¸ºè¦æ‰¾å·¦è¾¹ç•Œï¼Œæ‰€ä»¥ä¸èƒ½åœä¸‹æ¥ï¼Œè€Œæ˜¯æ›´æ–°å³è¾¹ç•Œåç»§ç»­æŸ¥æ‰¾ï¼Œç›´åˆ°`while`å¾ªç¯ç»“æŸã€‚

```c++
int left_bound(int[] nums, int target) {
    int left = 0, right = nums.length - 1;
    // æœç´¢åŒºé—´ä¸º [left, right]
    while (left <= right) { // å¾ªç¯åœæ­¢çš„æ¡ä»¶æ˜¯left > right
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) {
            // æœç´¢åŒºé—´å˜ä¸º [mid+1, right]
            left = mid + 1;
        } else if (nums[mid] > target) {
            // æœç´¢åŒºé—´å˜ä¸º [left, mid-1]
            right = mid - 1;
        } else if (nums[mid] == target) {
            // æ”¶ç¼©å³ä¾§è¾¹ç•Œ
            right = mid - 1; // è¿™ä¸€æ­¥å¯ä»¥åˆåˆ°ä¸Šé¢
        }
    }
    // æ²¡æ‰¾åˆ°çš„æƒ…å†µ
    // å¦‚æœæ•°ç»„ä¸­çš„æ•°å­—å…¨éƒ¨æ¯”targetå°ï¼ŒæŸ¥æ‰¾ç»“æŸæ—¶left = nums.length
    // å…¶ä»–æƒ…å†µä¸‹çš„nums[left] != target
    if (left >= nums.length || nums[left] != target) {
        return -1;
    }
    return left;
}
```

### å¯»æ‰¾å³ä¾§è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾

æ‰¾å‡ºä¸‹å›¾ä¸­`target==2`çš„å³ä¾§è¾¹ç•Œ

<p align="center"><img src="images/bs2.jpg" height=260> </p>

ä¸æ‰¾å·¦è¾¹ç•Œç±»ä¼¼ï¼Œåªä¸è¿‡å½“`nums[mid] == target`æ—¶ï¼Œè¦æ›´æ–°å·¦è¾¹ç•Œç»§ç»­æ‰¾ï¼Œç›´åˆ°å¾ªç¯åœæ­¢ã€‚

```C++
int right_bound(int[] nums, int target) {
    int left = 0, right = nums.length - 1;
    while (left <= right) {
        // æœç´¢åŒºé—´ä¸º [left, right]
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid - 1;
        } else if (nums[mid] == target) {
            // è¿™é‡Œæ”¹æˆæ”¶ç¼©å·¦ä¾§è¾¹ç•Œå³å¯
            left = mid + 1;
        }
    }
    // è¿™é‡Œæ”¹ä¸ºæ£€æŸ¥ right è¶Šç•Œçš„æƒ…å†µï¼Œè§ä¸‹å›¾
    if (right < 0 || nums[right] != target) {
        return -1;
    }
    return right;
}
```

### æ€»ç»“

ä¸Šé¢å¯»å·¦å³è¾¹ç•Œçš„ä»£ç ä½¿ç”¨çš„æ˜¯é—­åŒºé—´ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åœ¨å¼€åŒºé—´ä¸­å¯»æ‰¾ã€‚
